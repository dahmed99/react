import static org.junit.Assert.*;
import static org.mockito.Mockito.*;

import com.amazonaws.services.secretsmanager.*;
import com.amazonaws.services.secretsmanager.model.*;

import org.junit.*;
import org.junit.runner.RunWith;
import org.mockito.*;

import org.mockito.junit.MockitoJUnitRunner;

@RunWith(MockitoJUnitRunner.class)
public class AWSSecretsManagerUtilsTest {

    @Mock
    AWSSecretsManager secretsManager;

    @Test
    public void testGetSecret() {
        // Mocked response
        GetSecretValueResult result = new GetSecretValueResult()
                                            .withSecretString("mocked-secret-value");

        // Mocking AWS Secrets Manager client behavior
        when(secretsManager.getSecretValue(any(GetSecretValueRequest.class)))
            .thenReturn(result);

        // Testing the method
        String secretName = "mocked-secret-name";
        String region = "mocked-region";
        String secretValue = AWSSecretsManagerUtils.getSecret(secretName, region);

        // Verification
        assertEquals("mocked-secret-value", secretValue);
        verify(secretsManager, times(1)).getSecretValue(any(GetSecretValueRequest.class));
    }
}
